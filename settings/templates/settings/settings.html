{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Account settings</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />

	<link rel="stylesheet" type="text/css" href="{% static 'settings/bootstrap.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'settings/settings.css' %}">
  <!-- <link rel="stylesheet" href="setting.css"> -->
</head>
<body>
	<div class="row">
		<div class="col-sm-2">

		</div>
		<div class="col-sm-9">
			<form action="{% url 'settings:settingsDetails' %}" method="post" enctype="multipart/form-data">
				{% csrf_token %}
				<table class="table table-bordered">
					<tr align="center">
						<td colspan="5" class="active"><h2>Change Account setting</h2></td>
					</tr>
					<tr>
						<td style="font-weight: bold;">Change your Username</td>
						<td>
							<input type="text" id="username" name="username" class="form-control" required="required" value={{details.username}} >
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold;">Change Phone Number</td>
						<td>
							<input type="number" name="pnumber" id="pnumber" class="form-control"  required="required" value={{details.pnumber}} >
						</td>
					</tr>
          <tr>
            <td style="font-weight: bold;">Change your Email</td>
            <td>
							<!-- <label id="emailvalid" class="validation"></label -->
              <input type="email" name="email" id="email" class="form-control"  required="required" value={{details.email}} onchange="emailauthentication()" >
            </td>
          </tr>
					<tr>
						<td style="font-weight: bold;">Countyr</td>
						<td>
							<select class="form-control" name="country">
								<option>Country</option>
								<option value="USA">Usa</option>
								<option value="Iran">Iran</option>
								<option value="Somali">somalia</option>
								<option value="Iraque">Iraq</option>
							</select>
						</td>
					</tr>
					<tr>
						<td style="font-weight: bold;">GEnder</td>
						<td>
							<select class="form-control" name="gender">
								<option>gender</option>
								<option value="Male">Male</option>
								<option value="Female">Female</option>
								<option value="Others">Others</option>
							</select>
						</td>
					</tr>
					<tr>
            <td>
            </td>
            <td>
              <button type="button" name="button" class="btn btn-default" style="width:auto;text-decoration: none; font-size:16px;"
               onclick="document. getElementById('id01').style.display='block';">
                Change Password
              </button>
              </td>
            </tr>
            <tr>
              <td></td>
              <td>
                <div class="custom-file">
                   <input type="file" name="profile" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01">
                   <label class="custom-file-label" for="inputGroupFile01">Change Pic</label>
                 </div>
              </td>
            </tr>
						<tr align="center">
							<td colspan="6">
								<!-- <a href="{% url 'settings:settingsDetails' %}" name="update" class="btn btn-info">Submit</a> -->
								<input type="submit" name="update" class="btn btn-info" value="Submit">
							</td>
						</tr>
				</table>
			</form>
		</div>
	</div>
  <!-- designing tehe modal for changing the passwrf=d after button click -->
  <div id="id01" class="modal ">
   <form class="modal-content animate" action="{% url 'settings:settingsPass' %}" method="POST">
		 {% csrf_token %}
   <div class="imgcontainer">
    <span onclick="document .getElementById('id01') .style.display='none'" class="close" title="Close Modal"> &times;
    </span>
     <img src="female.jpg" alt="user" class="img">
 </div>
  <div class="container col-8">
   <label><b>Username</b></label>
   <input type="text" placeholder= "Enter Username" name="uname" required>
   <label><b>Current pasword</b></label>
   <input type="password" placeholder= "Enter Current Password" name="currpsw" id="currpsw" required>
     <label><b>Password</b></label>
     <input type="password" placeholder= "Enter Password" name="psw"  id="psw" required onchange="passwordmaster()">
     <label><b>Confirm Password</b></label>
     <input type="password" placeholder= "Enter CPassword" name="cpsw" id="cpsw" required onchange="passwordmaster()">
     <button type="submit" onclick="form_manager()">Change</button>
 </div>
 <div class="container" style="background-color:#f1f1f1">
   <button type="button" onclick="document.getElementById ('id01').style. display='none'" class="cancelbtn"> Cancel</button>
   <span class="psw">Forgot <a href="#">password? </a></span>
   </div>
   </form>
   </div>
   <script> // Getthe modal
       var modal = document.getElementById ('id01'); // When theuser clicks anywhere outside of the modal, close it
        window.onclick = function(event)
        {
         if (event.target == modal)
         {
           modal.style.display = "none";
     }
   }
 function form_manager()
 {
 	var flag = false;

 	if(document.getElementById("uname").value == "")
 	{

 		alert("Username blank");
 	}

 	else if(document.getElementById("currpsw").value == "")
 	{

 		alert("Current Password blank");
 	}
 	else if(document.getElementById("psw").value == "" || document.getElementById("cpsw").value == "")
 	{

 		alert("pass1 blank");
 	}
 	else {

 	}
 }


 function passwordmaster()
 	{
 		var pass1 = document.getElementById("psw").value;
 		var pass2 = document.getElementById("cpsw").value;

 		if(pass1 != "" && pass2 != "")
 			{

 				if(pass1 == "" || pass2 == "")
 					{
 						document.getElementById("psw").innerHTML = "";
 						document.getElementById("cpsw").innerHTML = "";
 						alert("password need to be changed to non empty");
 					}

 				else if(pass1 != pass2)
 					{
 						document.getElementById("psw").innerHTML = "";
 						document.getElementById("cpsw").innerHTML = "";
 						alert("Password does not march");
 					}
 				else {
 					if(pass1.length < 8)
 						{
 							document.getElementById("psw").innerHTML = "";
 							document.getElementById("cpsw").innerHTML = "";
 							alert("too Short password");
 						}
 					}
 			}
 	}


	</script>
</body>
</html>
